name: ceos
topology:
  nodes:

    srlrouter:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      type: ixrd3
      startup-config: configs/srlrouter.cfg    

    ceos:
      kind: arista_ceos
      image: ceos:4.34.3 
      startup-config: configs/myconfig.conf
    
    PC1:
      kind: linux
      image: docker.io/esanchezv/kaliipv6:latest
      exec:
        - "sysctl net.ipv6.conf.eth1.addr_gen_mode=3"
        - "sysctl net.ipv6.conf.eth1.addr_gen_mode=2"
        - "sysctl net.ipv6.conf.eth1.use_tempaddr=2"  
        - ip -6 route del default dev eth0

    PC2:
      kind: linux
      image: docker.io/esanchezv/kaliipv6:latest  
      exec:
        - ip -6 route del default dev eth0

    PC3:
      kind: linux
      image: docker.io/esanchezv/kaliipv6:latest  
      exec:
        - ip -6 route del default dev eth0    

    PC4:
      kind: linux
      image: docker.io/esanchezv/kaliipv6:latest  
      exec:
        - ip -6 route del default dev eth0    
      
  links:
   - endpoints: ["srlrouter:e1-1", "ceos:eth1"]   
   - endpoints: ["ceos:eth2", "PC1:eth1"]   
   - endpoints: ["ceos:eth3", "PC2:eth1"]   
   - endpoints: ["ceos:eth4", "PC3:eth1"]   
   - endpoints: ["ceos:eth5", "PC4:eth1"]   
    
